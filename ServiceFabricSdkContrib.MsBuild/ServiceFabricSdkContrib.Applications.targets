<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <UsingTask TaskName="ServiceFabricSdkContrib.MsBuild.PackageSymLinkTask" Architecture="x64" AssemblyFile="ServiceFabricSdkContrib.MsBuild.dll" />
	<UsingTask TaskName="ServiceFabricSdkContrib.MsBuild.RollupAppVersionsTask" Architecture="x64" AssemblyFile="ServiceFabricSdkContrib.MsBuild.dll" />


	<Target Name="PackageSymLink" AfterTargets="CoreCompile" DependsOnTargets="ValidatePackageSettings;GetServiceProjectReferences">
    <PackageSymLinkTask
      ProjectReferences="@(ProjectReference)"
      ServiceProjectReferences="@(ServiceProjectReference)"
      ServicePackageRootFolder="$(ServicePackageRootFolder)"
      ApplicationManifestPath="$(ApplicationManifestFilePath)"
      IncludeInPackagePaths="@(IncludeInPackagePaths)"
      PackageBehavior="$(PackageBehavior)"
      ProjectPath="$(MSBuildProjectFullPath)"
      PackageLocation="$(PackageLocation)"
      Configuration="$(Configuration)"
      Platform="$(Platform)">
    </PackageSymLinkTask>
  </Target>

	<Target Name="RollupAppVersions" AfterTargets="PackageSymLink">
		<RollupAppVersionsTask
      ProjectReferences="@(ProjectReference)"
      ServiceProjectReferences="@(ServiceProjectReference)"
      ApplicationManifestPath="$(ApplicationManifestFilePath)"
      ProjectPath="$(MSBuildProjectFullPath)"
      PackageLocation="$(PackageLocation)">
		</RollupAppVersionsTask>
	</Target>

</Project>